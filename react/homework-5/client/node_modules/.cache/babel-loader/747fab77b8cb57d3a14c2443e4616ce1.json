{"ast":null,"code":"import _classCallCheck from \"/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport React, { Component } from \"./node_modules/react\";\nimport { connect } from \"./node_modules/react-redux\";\nimport * as selectors from \"../../modules/auth/authSelectors\";\n\nvar withAuth = function withAuth(WrapperComponent) {\n  var WithAuth =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(WithAuth, _Component);\n\n    function WithAuth() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, WithAuth);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WithAuth)).call.apply(_getPrototypeOf2, [this].concat(args)));\n      _this.state = {};\n      return _this;\n    }\n\n    _createClass(WithAuth, [{\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        if (this.props.isAuthenticated) {\n          var _ref = this.props.location.state || {\n            from: \"/\"\n          },\n              from = _ref.from;\n\n          this.props.history.replace(from);\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {// return <WrapperComponent {...this.props} />;\n      }\n    }]);\n\n    return WithAuth;\n  }(Component);\n\n  var mapState = function mapState(state) {\n    return {\n      isAuthenticated: selectors.isAuthenticated(state)\n    };\n  };\n\n  return connect(mapState)(WithAuth);\n};\n\nexport default withAuth;","map":{"version":3,"sources":["/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/src/сomponents/Hoc/withAuth.js"],"names":["React","Component","connect","selectors","withAuth","WrapperComponent","WithAuth","state","props","isAuthenticated","location","from","history","replace","mapState"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,sBAAjC;AACA,SAASC,OAAT,QAAwB,4BAAxB;AACA,OAAO,KAAKC,SAAZ,MAA2B,kCAA3B;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,gBAAgB,EAAI;AAAA,MAC7BC,QAD6B;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,YAEjCC,KAFiC,GAEzB,EAFyB;AAAA;AAAA;;AAAA;AAAA;AAAA,2CAIZ;AACnB,YAAI,KAAKC,KAAL,CAAWC,eAAf,EAAgC;AAAA,qBACb,KAAKD,KAAL,CAAWE,QAAX,CAAoBH,KAApB,IAA6B;AAAEI,YAAAA,IAAI,EAAE;AAAR,WADhB;AAAA,cACtBA,IADsB,QACtBA,IADsB;;AAG9B,eAAKH,KAAL,CAAWI,OAAX,CAAmBC,OAAnB,CAA2BF,IAA3B;AACD;AACF;AAVgC;AAAA;AAAA,+BAYxB,CACP;AACD;AAdgC;;AAAA;AAAA,IACZV,SADY;;AAiBnC,MAAMa,QAAQ,GAAG,SAAXA,QAAW,CAAAP,KAAK;AAAA,WAAK;AACzBE,MAAAA,eAAe,EAAEN,SAAS,CAACM,eAAV,CAA0BF,KAA1B;AADQ,KAAL;AAAA,GAAtB;;AAIA,SAAOL,OAAO,CAACY,QAAD,CAAP,CAAkBR,QAAlB,CAAP;AACD,CAtBD;;AAwBA,eAAeF,QAAf","sourcesContent":["import React, { Component } from \"./node_modules/react\";\nimport { connect } from \"./node_modules/react-redux\";\nimport * as selectors from \"../../modules/auth/authSelectors\";\n\nconst withAuth = WrapperComponent => {\n  class WithAuth extends Component {\n    state = {};\n\n    componentDidUpdate() {\n      if (this.props.isAuthenticated) {\n        const { from } = this.props.location.state || { from: \"/\" };\n\n        this.props.history.replace(from);\n      }\n    }\n\n    render() {\n      // return <WrapperComponent {...this.props} />;\n    }\n  }\n\n  const mapState = state => ({\n    isAuthenticated: selectors.isAuthenticated(state)\n  });\n\n  return connect(mapState)(WithAuth);\n};\n\nexport default withAuth;\n"]},"metadata":{},"sourceType":"module"}