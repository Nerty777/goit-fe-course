{"ast":null,"code":"import _objectWithoutProperties from \"/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nimport { combineReducers } from 'redux';\nimport actionTypes from './cartActionTypes';\n\nfunction ids() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var _ref = arguments.length > 1 ? arguments[1] : undefined,\n      type = _ref.type,\n      payload = _ref.payload;\n\n  switch (type) {\n    case actionTypes.ADD_TO_CART:\n      return state.includes(payload.id) ? state : [].concat(_toConsumableArray(state), [payload.id]);\n\n    case actionTypes.REMOVE_FROM_CART:\n      return state.filter(function (id) {\n        return id !== payload.id;\n      });\n\n    default:\n      return state;\n  }\n}\n\nfunction amount() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _ref2 = arguments.length > 1 ? arguments[1] : undefined,\n      type = _ref2.type,\n      payload = _ref2.payload;\n\n  switch (type) {\n    case actionTypes.ADD_TO_CART:\n    case actionTypes.INCREASE_AMOUNT:\n      return _objectSpread({}, state, _defineProperty({}, payload.id, state[payload.id] ? state[payload.id] + 1 : 1));\n\n    case actionTypes.DECREASE_AMOUNT:\n      console.log('state: ', state[payload.id]);\n      console.log('state: ', state);\n      return _objectSpread({}, state, _defineProperty({}, payload.id, state[payload.id] > 1 ? state[payload.id] - 1 : state[payload.id]));\n\n    case actionTypes.REMOVE_FROM_CART:\n      {\n        var _ = state[payload.id],\n            newState = _objectWithoutProperties(state, [payload.id].map(_toPropertyKey));\n\n        return newState;\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default combineReducers({\n  ids: ids,\n  amount: amount\n});","map":{"version":3,"sources":["/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/src/modules/cart/components/Cart/cartReducer.js"],"names":["combineReducers","actionTypes","ids","state","type","payload","ADD_TO_CART","includes","id","REMOVE_FROM_CART","filter","amount","INCREASE_AMOUNT","DECREASE_AMOUNT","console","log","_","newState"],"mappings":";;;;;;;;;AAAA,SAASA,eAAT,QAAgC,OAAhC;AACA,OAAOC,WAAP,MAAwB,mBAAxB;;AAEA,SAASC,GAAT,GAA4C;AAAA,MAA/BC,KAA+B,uEAAvB,EAAuB;;AAAA;AAAA,MAAjBC,IAAiB,QAAjBA,IAAiB;AAAA,MAAXC,OAAW,QAAXA,OAAW;;AAC1C,UAAQD,IAAR;AACE,SAAKH,WAAW,CAACK,WAAjB;AACE,aAAOH,KAAK,CAACI,QAAN,CAAeF,OAAO,CAACG,EAAvB,IAA6BL,KAA7B,gCAAyCA,KAAzC,IAAgDE,OAAO,CAACG,EAAxD,EAAP;;AACF,SAAKP,WAAW,CAACQ,gBAAjB;AACE,aAAON,KAAK,CAACO,MAAN,CAAa,UAAAF,EAAE;AAAA,eAAIA,EAAE,KAAKH,OAAO,CAACG,EAAnB;AAAA,OAAf,CAAP;;AACF;AACE,aAAOL,KAAP;AANJ;AAQD;;AAED,SAASQ,MAAT,GAA+C;AAAA,MAA/BR,KAA+B,uEAAvB,EAAuB;;AAAA;AAAA,MAAjBC,IAAiB,SAAjBA,IAAiB;AAAA,MAAXC,OAAW,SAAXA,OAAW;;AAC7C,UAAQD,IAAR;AACE,SAAKH,WAAW,CAACK,WAAjB;AACA,SAAKL,WAAW,CAACW,eAAjB;AACE,+BACKT,KADL,sBAEGE,OAAO,CAACG,EAFX,EAEgBL,KAAK,CAACE,OAAO,CAACG,EAAT,CAAL,GAAoBL,KAAK,CAACE,OAAO,CAACG,EAAT,CAAL,GAAoB,CAAxC,GAA4C,CAF5D;;AAIF,SAAKP,WAAW,CAACY,eAAjB;AACEC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBZ,KAAK,CAACE,OAAO,CAACG,EAAT,CAA5B;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBZ,KAAvB;AACA,+BACKA,KADL,sBAEGE,OAAO,CAACG,EAFX,EAGIL,KAAK,CAACE,OAAO,CAACG,EAAT,CAAL,GAAoB,CAApB,GAAwBL,KAAK,CAACE,OAAO,CAACG,EAAT,CAAL,GAAoB,CAA5C,GAAgDL,KAAK,CAACE,OAAO,CAACG,EAAT,CAHzD;;AAKF,SAAKP,WAAW,CAACQ,gBAAjB;AAAmC;AAAA,YACXO,CADW,GACQb,KADR,CACxBE,OAAO,CAACG,EADgB;AAAA,YACLS,QADK,4BACQd,KADR,GACxBE,OAAO,CAACG,EADgB;;AAEjC,eAAOS,QAAP;AACD;;AACD;AACE,aAAOd,KAAP;AApBJ;AAsBD;;AAED,eAAeH,eAAe,CAAC;AAC7BE,EAAAA,GAAG,EAAHA,GAD6B;AAE7BS,EAAAA,MAAM,EAANA;AAF6B,CAAD,CAA9B","sourcesContent":["import { combineReducers } from 'redux';\nimport actionTypes from './cartActionTypes';\n\nfunction ids(state = [], { type, payload }) {\n  switch (type) {\n    case actionTypes.ADD_TO_CART:\n      return state.includes(payload.id) ? state : [...state, payload.id];\n    case actionTypes.REMOVE_FROM_CART:\n      return state.filter(id => id !== payload.id);\n    default:\n      return state;\n  }\n}\n\nfunction amount(state = {}, { type, payload }) {\n  switch (type) {\n    case actionTypes.ADD_TO_CART:\n    case actionTypes.INCREASE_AMOUNT:\n      return {\n        ...state,\n        [payload.id]: state[payload.id] ? state[payload.id] + 1 : 1,\n      };\n    case actionTypes.DECREASE_AMOUNT:\n      console.log('state: ', state[payload.id]);\n      console.log('state: ', state);\n      return {\n        ...state,\n        [payload.id]:\n          state[payload.id] > 1 ? state[payload.id] - 1 : state[payload.id],\n      };\n    case actionTypes.REMOVE_FROM_CART: {\n      const { [payload.id]: _, ...newState } = state;\n      return newState;\n    }\n    default:\n      return state;\n  }\n}\n\nexport default combineReducers({\n  ids,\n  amount,\n});\n"]},"metadata":{},"sourceType":"module"}