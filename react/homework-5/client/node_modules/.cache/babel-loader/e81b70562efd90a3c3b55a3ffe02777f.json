{"ast":null,"code":"import _classCallCheck from \"/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/src/\\u0441omponents/Hoc/withAuth.js\";\nimport React, { Component } from \"./node_modules/react\";\nimport { connect } from \"./node_modules/react-redux\";\nimport { isAuthenticated } from \"../../modules/auth/authSelectors\";\n\nvar WithAuth = function WithAuth(WrappedComponent) {\n  var WithAuth =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(WithAuth, _Component);\n\n    function WithAuth() {\n      _classCallCheck(this, WithAuth);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(WithAuth).apply(this, arguments));\n    }\n\n    _createClass(WithAuth, [{\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps, prevState) {\n        if (this.props.isAuthenticated) {\n          var _ref = this.props.location.state || {\n            from: {\n              pathname: \"/\"\n            }\n          },\n              from = _ref.from;\n\n          this.props.history.push(from);\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return React.createElement(WrappedComponent, Object.assign({}, this.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 16\n          },\n          __self: this\n        }));\n      }\n    }]);\n\n    return WithAuth;\n  }(Component);\n\n  var mapStateToProps = function mapStateToProps(state) {\n    return {\n      isAuthenticated: isAuthenticated(state)\n    };\n  };\n\n  return connect(mapStateToProps)(WithAuth);\n};","map":{"version":3,"sources":["/Users/nerty777/Desktop/work/goit-fe-course/react/homework-5/client/src/сomponents/Hoc/withAuth.js"],"names":["React","Component","connect","isAuthenticated","WithAuth","WrappedComponent","prevProps","prevState","props","location","state","from","pathname","history","push","mapStateToProps"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,sBAAjC;AACA,SAASC,OAAT,QAAwB,4BAAxB;AACA,SAASC,eAAT,QAAgC,kCAAhC;;AAEA,IAAMC,QAAQ,GAAG,kBAAAC,gBAAgB,EAAI;AAAA,MAC7BD,QAD6B;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,yCAEdE,SAFc,EAEHC,SAFG,EAEQ;AACvC,YAAI,KAAKC,KAAL,CAAWL,eAAf,EAAgC;AAAA,qBACb,KAAKK,KAAL,CAAWC,QAAX,CAAoBC,KAApB,IAA6B;AAC5CC,YAAAA,IAAI,EAAE;AAAEC,cAAAA,QAAQ,EAAE;AAAZ;AADsC,WADhB;AAAA,cACtBD,IADsB,QACtBA,IADsB;;AAI9B,eAAKH,KAAL,CAAWK,OAAX,CAAmBC,IAAnB,CAAwBH,IAAxB;AACD;AACF;AATgC;AAAA;AAAA,+BAUxB;AACP,eAAO,oBAAC,gBAAD,oBAAsB,KAAKH,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AACD;AAZgC;;AAAA;AAAA,IACZP,SADY;;AAenC,MAAMc,eAAe,GAAG,SAAlBA,eAAkB,CAAAL,KAAK;AAAA,WAAK;AAChCP,MAAAA,eAAe,EAAEA,eAAe,CAACO,KAAD;AADA,KAAL;AAAA,GAA7B;;AAIA,SAAOR,OAAO,CAACa,eAAD,CAAP,CAAyBX,QAAzB,CAAP;AACD,CApBD","sourcesContent":["import React, { Component } from \"./node_modules/react\";\nimport { connect } from \"./node_modules/react-redux\";\nimport { isAuthenticated } from \"../../modules/auth/authSelectors\";\n\nconst WithAuth = WrappedComponent => {\n  class WithAuth extends Component {\n    componentDidUpdate(prevProps, prevState) {\n      if (this.props.isAuthenticated) {\n        const { from } = this.props.location.state || {\n          from: { pathname: \"/\" }\n        };\n        this.props.history.push(from);\n      }\n    }\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  const mapStateToProps = state => ({\n    isAuthenticated: isAuthenticated(state)\n  });\n\n  return connect(mapStateToProps)(WithAuth);\n};\n"]},"metadata":{},"sourceType":"module"}